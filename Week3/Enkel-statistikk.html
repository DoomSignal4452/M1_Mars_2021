<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <link rel="stylesheet" href="../normalize.css">
    <link rel="stylesheet" href="../style.css">

    <title>Just a Simple Page</title>

    <style type="text/css">

    </style>
</head>

<body>
    <div class="page">

        <h2>Enkel statistikk</h1>

            <div class="whitebox">
                <div id="content"></div>
            </div>


    </div>
    

    <script type="text/javascript">
//      ###############################################################
//      ##                           Model                           ##
//      ###############################################################

        var sum = 0;
        var count = 0;
        var inputValue = '';

        let numbers=[];

//      ###############################################################
//      ##                           View                            ##
//      ###############################################################

        show();
        function show() {
            document.getElementById('content').innerHTML = `
                <p>Skriv tall i feltet og f√• summen, gjennomsnitt og antall.</p>
                Tall: <input type="number" value="${inputValue}" oninput="inputValue = this.value">
                <button onclick="add()">Legg til</button>
                <button onclick="reset()">Nullstill</button>
                <table>
                    <tr><td>Sum:</td><td>${sum}</td></tr>
                    <tr><td>Gjennomsnitt:</td><td>${count == 0 ? '<i>NA</i>' : sum / count}</td></tr>
                    <tr><td>Antall tall:</td><td>${count}</td></tr>
                </table>
                `;
        }

//      ###############################################################
//      ##                        Controller                         ##
//      ###############################################################

        function add() {
            let value = parseInt(inputValue);
            sum=sum+value;
            numbers.push(value);
            count=numbers.length;
            show()
        }

        function reset() {
            sum=0;
            count=0;
            inputValue='';
            show();
        }

    </script>
</body>

</html>